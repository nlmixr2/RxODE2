<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rxode2">
<title>Classic rxode2 Events â€¢ rxode2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Classic rxode2 Events">
<meta property="og:description" content="rxode2">
<meta property="og:image" content="https://nlmixr2.github.io/rxode2/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rxode2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.7</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--articles">
    <span class="fas fa fas fa-book"></span>
     
    Articles
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--articles">
    <h6 class="dropdown-header" data-toc-skip>Getting started</h6>
    <a class="dropdown-item" href="../articles/rxode2-syntax.html">rxode2 mini language syntax</a>
    <a class="dropdown-item" href="../articles/rxode2-pipeline.html">rxode2 with piping ie %&gt;%</a>
    <a class="dropdown-item" href="../articles/rxode2-speed.html">Speeding up rxode2 ODE solving</a>
    <a class="dropdown-item" href="../articles/rxode2-data-frame.html">Adaptive Data Frames with rxode2</a>
    <a class="dropdown-item" href="../articles/rxode2-plot.html">Plotting with rxode2</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Advanced Features, Model Types, Technical Details</h6>
    <a class="dropdown-item" href="../articles/rxode2-model-types.html">rxode2 model types</a>
    <a class="dropdown-item" href="../articles/rxode2-cmt.html">Chainging rxode2 compartment numbers</a>
    <a class="dropdown-item" href="../articles/rxode2-transit-compartments.html">rxode2 transit compartment models</a>
    <a class="dropdown-item" href="../articles/rxode2-shiny.html">Using Shiny with rxode2</a>
    <a class="dropdown-item" href="../articles/rxode2-covariates.html">rxode2 covariates</a>
    <a class="dropdown-item" href="../articles/rxode2-stiff.html">Stiff Systems and Jacobian specification</a>
    <a class="dropdown-item" href="../articles/rxode2-rxUse.html">Adding compiled rxode2 models to your package</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--dosing-events">
    <span class="fas fa fas fa-stethoscope"></span>
     
    Dosing/Events
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--dosing-events">
    <a class="dropdown-item" href="../articles/rxode2-datasets.html">nlmixr/rxode2 dataset overview</a>
    <a class="dropdown-item" href="../articles/rxode2-event-types.html">Supported Event Types</a>
    <a class="dropdown-item" href="../articles/rxode2-event-table.html">Easy rxode2 Event Tables</a>
    <a class="dropdown-item" href="../articles/rxode2-events-classic.html">Classic rxode2 events explained</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--simulations">
    <span class="fas fa fas fa-desktop"></span>
     
    Simulations
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--simulations">
    <a class="dropdown-item" href="../articles/rxode2-single-subject.html">Single Subject ODE solving</a>
    <a class="dropdown-item" href="../articles/rxode2-sim-var.html">Multiple Subject rxode2 Simulation</a>
    <a class="dropdown-item" href="../articles/rxode2-prior-data.html">Using Prior Data for ODE solving</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--help">
    <span class="fas fa fas fa-life-ring"></span>
     
    Help
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--help">
    <a class="dropdown-item" href="../articles/rxode2-tutorials.html">Running the interactive tutorials</a>
    <a class="external-link dropdown-item" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4728294/pdf/PSP4-5-03.pdf">2015 CPT tutorial</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/rxode2-covariates.html">Adding Circadian Rythmn (time-varying covariates)</a>
    <a class="dropdown-item" href="../articles/rxode2-wt.html">Weight Based Dosing</a>
    <a class="dropdown-item" href="../articles/rxode2-nesting.html">Simulating Multiple levels of nesting (iov, between study etc)</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changes/News</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://nlmixr2.github.io/rxode2/reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--">
    <span class="fas fa fas fa-archive"></span>
     
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--">
    <a class="dropdown-item" href="https://nlmixr2.github.io/rxode2-manual/">rxode2 User Guide</a>
    <a class="external-link dropdown-item" href="https://nlmixr2.github.io/nlmixr%20/">nlmixr</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/nlmixr2/rxode2/releases">
    <span class="fa fa-download"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="rxode2-events-classic_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Classic rxode2 Events</h1>
            
            <h4 data-toc-skip class="date">2022-05-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nlmixr2/rxode2/blob/HEAD/vignettes/rxode2-events-classic.Rmd" class="external-link"><code>vignettes/rxode2-events-classic.Rmd</code></a></small>
      <div class="d-none name"><code>rxode2-events-classic.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="classic-rxode-evid-values">Classic RxODE evid values<a class="anchor" aria-label="anchor" href="#classic-rxode-evid-values"></a>
</h2>
<p>Originally RxODE supported compound event IDs; rxode2 still supports these parameters, but it is often more useful to use the the normal NONMEM dataset standard that is used by many modeling tools like NONMEM, Monolix and nlmixr, described in the <a href="rxode2-event-types.html">rxode2 types</a> article.</p>
<p>Classically, RxODE supported event coding in a single event id <code>evid</code> described in the following table.</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="28%">
<col width="9%">
<col width="53%">
</colgroup>
<thead><tr class="header">
<th>100+ cmt</th>
<th>Infusion/Event Flag</th>
<th>&lt;99 Cmt</th>
<th>SS flag &amp; Turning of Compartment</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>100+ cmt</td>
<td>0 = bolus dose</td>
<td>&lt; 99 cmt</td>
<td>1 = dose</td>
</tr>
<tr class="even">
<td></td>
<td>1 = infusion (rate)</td>
<td></td>
<td>10 = Steady state 1 (equivalent to SS=1)</td>
</tr>
<tr class="odd">
<td></td>
<td>2 = infusion (dur)</td>
<td></td>
<td>20 = Steady state 2 (equivalent to SS=2)</td>
</tr>
<tr class="even">
<td></td>
<td>6 = turn off modeled duration</td>
<td></td>
<td>30 = Turn off a compartment (equivalent to -CMT w/EVID=2)</td>
</tr>
<tr class="odd">
<td></td>
<td>7 = turn off modeled rate</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>8 = turn on modeled duration</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>9 = turn on modeled rate</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>4 = replace event</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>5 = multiply event</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>The classic EVID concatenate the numbers in the above table, so an infusion would to compartment 1 would be <code>10101</code> and an infusion to compartment 199 would be <code>119901</code>.</p>
<p>EVID = 0 (observations), EVID=2 (other type event) and EVID=3 are all supported. Internally an EVID=9 is a non-observation event and makes sure the system is initialized to zero; EVID=9 should not be manually set. EVID 10-99 represents modeled time interventions, similar to NONMEMâ€™s MTIME. This along with amount (amt) and time columns specify the events in the ODE system.</p>
<p>For infusions specified with EVIDs &gt; 100 the amt column represents the rate value.</p>
<p>For Infusion flags 1 and 2 <code>+amt</code> turn on the infusion to a specific compartment <code>-amt</code> turn off the infusion to a specific compartment. To specify a dose/duration you place the dosing records at the time the duration starts or stops.</p>
<p>For modeled rate/duration infusion flags the on infusion flag must be followed by an off infusion record.</p>
<p>These number are concatenated together to form a full RxODE event ID, as shown in the following examples:</p>
<div class="section level3">
<h3 id="bolus-dose-examples">Bolus Dose Examples<a class="anchor" aria-label="anchor" href="#bolus-dose-examples"></a>
</h3>
<p><em>A 100 bolus dose to compartment #1 at time 0</em></p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>101</td>
<td>100</td>
</tr>
<tr class="even">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p><em>A 100 bolus dose to compartment #99 at time 0</em></p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>9901</td>
<td>100</td>
</tr>
<tr class="even">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p><em>A 100 bolus dose to compartment #199 at time 0</em></p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>109901</td>
<td>100</td>
</tr>
<tr class="even">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="infusion-event-examples">Infusion Event Examples<a class="anchor" aria-label="anchor" href="#infusion-event-examples"></a>
</h3>
<p>Bolus infusion with rate 50 to compartment 1 for 1.5 hr, (modeled bioavailability changes duration of infusion)</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>10101</td>
<td>50</td>
</tr>
<tr class="even">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1.5</td>
<td>10101</td>
<td>-50</td>
</tr>
</tbody>
</table>
<p>Bolus infusion with rate 50 to compartment 1 for 1.5 hr (modeled bioavailability changes rate of infusion)</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>20101</td>
<td>50</td>
</tr>
<tr class="even">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1.5</td>
<td>20101</td>
<td>-50</td>
</tr>
</tbody>
</table>
<p>Modeled rate with amount of 50</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>90101</td>
<td>50</td>
</tr>
<tr class="even">
<td>0</td>
<td>70101</td>
<td>50</td>
</tr>
<tr class="odd">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Modeled duration with amount of 50</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>80101</td>
<td>50</td>
</tr>
<tr class="even">
<td>0</td>
<td>60101</td>
<td>50</td>
</tr>
<tr class="odd">
<td>0.5</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="steady-state-for-classic-rxode-evid-example">Steady State for classic RxODE EVID example<a class="anchor" aria-label="anchor" href="#steady-state-for-classic-rxode-evid-example"></a>
</h3>
<p>Steady state dose to cmt 1</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody><tr class="odd">
<td>0</td>
<td>110</td>
<td>50</td>
</tr></tbody>
</table>
<p>Steady State with super-positioning principle for am 50 and pm 100 dose</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>110</td>
<td>50</td>
</tr>
<tr class="even">
<td>12</td>
<td>120</td>
<td>100</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="turning-off-a-compartment-with-classic-rxode-evid">Turning off a compartment with classic RxODE EVID<a class="anchor" aria-label="anchor" href="#turning-off-a-compartment-with-classic-rxode-evid"></a>
</h3>
<p>Turn off the first compartment at time 12</p>
<table class="table">
<thead><tr class="header">
<th>time</th>
<th>evid</th>
<th>amt</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>110</td>
<td>50</td>
</tr>
<tr class="even">
<td>12</td>
<td>130</td>
<td>NA</td>
</tr>
</tbody>
</table>
<p>Event coding in <code>rxode2</code> is encoded in a single event number <code>evid</code>. For compartments under 100, this is coded as:</p>
<ul>
<li>This event is <code>0</code> for observation events.</li>
<li>For a specified compartment a bolus dose is defined as:
<ul>
<li>100*(Compartment Number) + 1</li>
<li>The dose is then captured in the <code>amt</code>
</li>
</ul>
</li>
<li>For IV bolus doses the event is defined as:
<ul>
<li>10000 + 100*(Compartment Number) + 1</li>
<li>The infusion rate is captured in the <code>amt</code> column</li>
<li>The infusion is turned off by subtracting <code>amt</code> with the same <code>evid</code> at the stop of the infusion.</li>
</ul>
</li>
</ul>
<p>For compartments greater or equal to 100, the 100s place and above digits are transferred to the 100,000th place digit. For doses to the 99th compartment the <code>evid</code> for a bolus dose would be <code>9901</code> and the <code>evid</code> for an infusion would be <code>19901</code>. For a bolus dose to the <code>199</code>th compartment the <code>evid</code> for the bolus dose would be <code>109901</code>. An infusion dosing record for the <code>199</code>th compartment would be <code>119901</code>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Matthew L. Fidler, Melissa Hallow, Wenping Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
